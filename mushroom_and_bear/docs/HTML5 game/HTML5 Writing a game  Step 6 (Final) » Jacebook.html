<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0072)http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/ -->
<html dir="ltr" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>HTML5 Writing a game: Step 6 (Final) » Jacebook</title>
<link rel="shortcut icon" type="image/ico" href="http://jacebook.co.uk/wp-content/themes/redbel/favicon.ico">
<link href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/style.css" rel="stylesheet" type="text/css" media="all">
<link rel="pingback" href="http://jacebook.co.uk/xmlrpc.php">
<script type="text/javascript" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/jquery.min.js"></script>
<!--[if lte IE 8]> 
<style type="text/css">/* Styles globaux */
#comments li, #comments input.text, #comments textarea, #comments .input-text {behavior:url(http://jacebook.co.uk/wp-content/themes/redbel/js/border-radius.htc);}
{behavior:url(http://jacebook.co.uk/wp-content/themes/redbel/js/border-radius.htc);}
</style>
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="Jacebook » Feed" href="http://jacebook.co.uk/feed/">
<link rel="alternate" type="application/rss+xml" title="Jacebook » Comments Feed" href="http://jacebook.co.uk/comments/feed/">
<script type="text/javascript" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/l10n.js"></script>
<script type="text/javascript" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/comment-reply.js"></script>
<link rel="prev" title="HTML5 Writing a game: Step 5" href="http://jacebook.co.uk/blog/2010/09/20/html5-writing-a-game-step-5/">
<link rel="canonical" href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/HTML5 Writing a game  Step 6 (Final) » Jacebook.html">
<link rel="shortlink" href="http://jacebook.co.uk/?p=246">
<link rel="stylesheet" type="text/css" href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/social_widget.css">
<style type="text/css">
#header{
    background: url(http://jacebook.co.uk/wp-content/themes/redbel/empty-header.png) no-repeat;
    height: 153px;
    width:1000px;
}
#header h1.blog-title a, #site-description {
    color:#fff;
}
</style>
<link rel="stylesheet" type="text/css" href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/shCore.css"><link rel="stylesheet" type="text/css" href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/shThemeDefault.css"><meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3">


</head>
<body class="single single-post postid-246 single-format-standard">
<div class="website-container">
	<div id="header">
		<form action="http://jacebook.co.uk/">
			<div class="search-form">
				<label class="search-label-sliding" for="search-sliding" style="left: 15px; opacity: 0.4; ">Search</label>
				<input name="s" id="search-sliding" class="search-sliding" type="text" value="">
				<input type="image" name="Search" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/transparent.gif" alt="Search" class="search-button">
			</div>
		</form>
		<h1 class="blog-title"><a href="http://jacebook.co.uk/">Jacebook</a></h1>
		<div id="site-description">The ramblings of Jason Croucher</div>
		<a href="http://jacebook.co.uk/feed/"><img src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/transparent.gif" height="33" width="55" alt="RSS Feed" id="rss-button"></a>
	<div class="menu"><ul><li style="background-position: 0px 38px; "><a href="http://jacebook.co.uk/" title="Home">Home</a></li><li class="page_item page-item-12 current_page_parent"><a href="http://jacebook.co.uk/news/" title="News">News</a></li><li class="page_item page-item-2" style="background-position: 0px 38px; "><a href="http://jacebook.co.uk/about/" title="About">About</a></li></ul></div>
	</div>	<div id="content">
				<div id="nav-above" class="navigation">
					<div class="nav-previous"><a href="http://jacebook.co.uk/blog/2010/09/20/html5-writing-a-game-step-5/" rel="prev"><span class="meta-nav">←</span> HTML5 Writing a game: Step 5</a></div>
					<div class="nav-next"></div>
				</div><!-- #nav-above -->

		<div id="post-246" class="post-246 post type-post status-publish format-standard hentry category-html5 category-java-script category-jquery tag-bouncing-animals tag-game tag-html5 tag-iphone article">
			<div class="article-corps-title">
				<div class="article-top"><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#header" class="top-link" style="background-position: 100% 0%; ">TOP</a></div>
				<h2 class="article-title"><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/HTML5 Writing a game  Step 6 (Final) » Jacebook.html" title="Permalink to HTML5 Writing a game: Step 6 (Final)" rel="bookmark">HTML5 Writing a game: Step 6 (Final)</a></h2>
				<div class="article-date"><span class="month">Nov</span> <span class="day">05</span></div>
				<div class="article-meta-autor">Posted by Jason Croucher in <a href="http://jacebook.co.uk/blog/category/html5/" title="View all posts in html5" rel="category tag">html5</a>, <a href="http://jacebook.co.uk/blog/category/java-script/" title="View all posts in Java Script" rel="category tag">Java Script</a>, <a href="http://jacebook.co.uk/blog/category/java-script/jquery/" title="View all posts in jQuery" rel="category tag">jQuery</a></div>
			</div>
			<div class="article-corps">
				<div class="article-page-contents">
				<p><!-- p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Times New Roman'} p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Times New Roman'; min-height: 15.0px} -->So this is last post on writing the game <a href="http://bouncinganimals.blogspot.com/">bouncing animals</a> in HTML5. I decided to complete just the first level of bouncing animals, as this at least proves the theory. In the real game, as you progress through the levels there are lots of other animals and baddies,&nbsp;but from a programmable point of view each level is essentially the same.</p>
<p>So, since the last post we’ve added a Start Button (on the game screen), a remaining lives indicator, a score indicator, a bonus indicator, some additional ambient sound (bird song) and of course a baddy (in this case an owl)!</p>
<h3><a href="http://jacebook.co.uk/share/html5">The latest version</a>.</h3>
<h4>A Start Button</h4>
<p><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/START-Button.png"><img class="size-full wp-image-247 alignnone" title="START-Button" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/START-Button.png" alt="" width="100" height="37"></a></p>
<p>This is simply an image element within the HTML that is positioned over the canvas. Using jQuery we hide/show the image and register a click event to ensure we react to it clicking. Notice we also change the cursor to give the user a visual indication that it can be clicked. It’s used, as the name suggested, to start the game, but also to re-start each time a life is lost (i.e. when the animal hits the ground).</p>
<div><div id="highlighter_964889" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">//Add event handler for show/hide bounds button</code></div><div class="line number2 index1 alt1"><code class="plain plain">$("#showHideBounds").click(function (){</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">showBounds = !showBounds;</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">gameLoop();</code></div><div class="line number5 index4 alt2"><code class="plain plain">});</code></div></div></td></tr></tbody></table></div></div>
<p><!-- p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Times New Roman'} span.s1 {font: 12.0px Helvetica} -->A point to note is that when the animal hits the ground, we wait for 2 seconds to play the groan of the animal and more importantly allowing the player to process the visual clue that they missed the mushroom before resetting the animal’s position and re-showing the start button. Within the <strong>hasAnimalHitEdge()</strong> function we specifically check for the animal hitting the ground and wait using <strong>setTimeout</strong>.</p>
<div><div id="highlighter_905146" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">//Has bear hit the bottom of the screen - Ouch!</code></div><div class="line number2 index1 alt1"><code class="plain plain">if(animal.y&gt;screenHeight - animal.image.height)</code></div><div class="line number3 index2 alt2"><code class="plain plain">{</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Bouncing off bottom, so animal groans and game stops, oh and you lose a life</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">verticalSpeed = -speed;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">multiPoint = 0;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Stop game for now</code></div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">toggleGameplay();</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Wait 2 seconds and reset for next life</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">setTimeout(function(){</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(lives != 0)</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Place the animal on top of the mushroom</code></div><div class="line number18 index17 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">animal.x = parseInt(screenWidth/2);</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">animal.y = parseInt(screenHeight/2);</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">$("#BtnImgStart").show();</code></div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">gameLoop();</code></div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}, 2000);</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Deduct lives and check if we have any left</code></div><div class="line number27 index26 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">lives -= 1;</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(lives &gt; 0)</code></div><div class="line number30 index29 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number31 index30 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">groan.play();</code></div><div class="line number32 index31 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">drawLives();</code></div><div class="line number33 index32 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number34 index33 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number35 index34 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number36 index35 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">awwwww.play();</code></div><div class="line number37 index36 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">gameOver();</code></div><div class="line number38 index37 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number39 index38 alt2"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><!-- p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Times New Roman'} --></p>
<h4>Remaining Lives Indicator</h4>
<pre><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/lives3.png"><img class="alignnone size-full wp-image-254" title="lives3" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/lives3.png" alt="" width="158" height="37"></a></pre>
<p><!-- p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Times New Roman'} span.s1 {font: 12.0px Courier} --><br>
To show how many lives are remaining, we have an array of images with up to six little mushrooms.&nbsp; Within the <strong>loadImages()</strong> function the array of images are built.</p>
<div><div id="highlighter_521077" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">//load lives images</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">for(var x=0; x&lt;6; x++)</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">livesImages[x] = new Image();</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">livesImages[x].src = "images/lives" + x + ".png";</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<h4>Score Indicator</h4>
<p><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/score.png"><img class="alignnone size-full wp-image-255" title="score" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/score.png" alt="" width="102" height="37"></a></p>
<p>Like the lives indicator, the score is displayed by an image (in this case on the top right hand side). However, unlike the lives indicator, the score also has the score in text written over the background image.</p>
<div><div id="highlighter_35691" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">function drawScore()</code></div><div class="line number2 index1 alt1"><code class="plain plain">{</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.drawImage(scoreImg, screenWidth-(scoreImg.width),0);</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.font = "12pt Arial";</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.fillText("" + score, 425, 25);</code></div><div class="line number6 index5 alt1"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>This is the first example of drawing text on the canvas in the game. Using the canvas context, the methods <strong>font()</strong> and <strong>fillText()</strong> are used to achieve this (as can be seen from the code above). This method is called from the main game loop and as the score variable is adjusted the corresponding score is displayed.</p>
<h4>Bonus Indicator</h4>
<p><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/comboBonus1.png"><img class="alignleft size-full wp-image-256" title="comboBonus1" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/comboBonus1.png" alt="" width="100" height="37"></a><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/comboBonus2.png"><img class="alignleft size-full wp-image-257" title="comboBonus2" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/comboBonus2.png" alt="" width="100" height="37"></a><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/comboBonus3.png"><img class="alignnone size-full wp-image-258" title="comboBonus3" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/comboBonus3.png" alt="" width="100" height="37"></a></p>
<p>If the animal hits 4 or more prizes without touching the mushroom, a bonus is awarded to the player. In the original iPhone version, the bonus indicator consisted of 3 images each with a different colour border to give a flashing effect. This presents a problem, as just changing the image each time the game loop executes will cause it to flash too quickly. We also have a similar problem with the baddy as you’ll see in a bit.</p>
<p>Like the lives indicator, the bonus indicator images are loaded into an array.</p>
<div><div id="highlighter_728935" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">//load combo bonus images</code></div><div class="line number2 index1 alt1"><code class="plain plain">for(var x=0; x&lt;3; x++)</code></div><div class="line number3 index2 alt2"><code class="plain plain">{</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">bonusImages[x] = new Image();</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">bonusImages[x].src = "images/comboBonus" + (x + 1) + ".png";</code></div><div class="line number6 index5 alt1"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>In this case we want the 3 images to be shown, one after another and for a total period of 1 second. Here’s how…</p>
<div><div id="highlighter_745034" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">function showBonus()</code></div><div class="line number2 index1 alt1"><code class="plain plain">{</code></div><div class="line number3 index2 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(!bonusActive)</code></div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">bonusStarted = new Date().getTime();</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">setTimeout(changeBonusImage, 50);</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">bonusActive = true;</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number9 index8 alt2"><code class="plain plain">}</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="plain plain">function drawBonus()</code></div><div class="line number12 index11 alt1"><code class="plain plain">{</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(bonusActive)</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.drawImage(bonusImages[currentBonusImage], 200, 150);</code></div><div class="line number15 index14 alt2"><code class="plain plain">}</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="plain plain">function changeBonusImage()</code></div><div class="line number18 index17 alt1"><code class="plain plain">{</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">currentBonusImage++;</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(currentBonusImage == 3)</code></div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">currentBonusImage = 0;</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">now = new Date().getTime();</code></div><div class="line number25 index24 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if((now-bonusStarted) &lt; 1000)</code></div><div class="line number26 index25 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number27 index26 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">setTimeout(changeBonusImage, 50);</code></div><div class="line number28 index27 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number29 index28 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number30 index29 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number31 index30 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">bonusActive = false;</code></div><div class="line number32 index31 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number33 index32 alt2"><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p><strong>showBonus()</strong> is called to initiate the bonus display procedure. The bonusActive flag is set and the started time is recorded. <strong>setTimeout</strong> is used to call <strong>changeBonusImage</strong>, which itself cycles through the images until the duration exceeds 1000 msecs at which point the bonusActive flag is reset. <strong>drawBonus()</strong> is called from the main game loop and draws the current bonus image all the time the bonus is active.</p>
<h4>Background Bird Song</h4>
<p>creating sounds has been covered previously, however in this case there’s a couple of extra points.</p>
<div><div id="highlighter_263872" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">//set background sound of birds, loop and reduce volume</code></div><div class="line number2 index1 alt1"><code class="plain plain">var birds = new Audio("./sounds/birds." + soundType);</code></div><div class="line number3 index2 alt2"><code class="plain plain">birds.loop = true;</code></div><div class="line number4 index3 alt1"><code class="plain plain">birds.volume = 0.1;</code></div></div></td></tr></tbody></table></div></div>
<p>The first is to note that we loop the bird song and secondly, because it’s a consistent background sound the bird song has a reduce volume (in this case 0.1).</p>
<h4>The Baddy!</h4>
<p><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/owl1.png"><img class="alignleft size-full wp-image-260" title="owl1" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/owl1.png" alt="" width="40" height="40"></a><a href="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/owl2.png"><img class="alignnone size-full wp-image-261" title="owl2" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/owl2.png" alt="" width="40" height="40"></a></p>
<p>The annoying owl constantly flies across the screen, causing the animal to fall from the sky when it’s hit. The owl has 3 states within the game <strong>BADDY_OFF</strong>, <strong>BADDY_FLYING</strong> and <strong>BADDY_HIT</strong>.  When OFF, the owl is positioned just off to the right of the canvas, when FLYING it moves from right to left and when it’s HIT, it drops to the bottom of the canvas. Once it’s reached the very left side of the canvas, it’s reset to state OFF and similarly, if HIT, once it hits the ground it is also reset to OFF.</p>
<div><div id="highlighter_439156" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">function drawBaddy()</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If the baddy (owl) is currently sleeping then gamble on it coming back</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus == BADDY_OFF)</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Pick a number between 1 and 100</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">shallWeStart = Math.floor(Math.random()*100);</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Is this your card?</code></div><div class="line number11 index10 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if (shallWeStart == 50)</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">showBaddy();</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Check if the animal has hit the baddy</code></div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(checkIntersect(baddy, animal, 5))</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number18 index17 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If not already done, change the horizontal speed of the animal</code></div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus != BADDY_HIT)</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">horizontalSpeed = -horizontalSpeed;</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Update new status, send animal down and squawk</code></div><div class="line number23 index22 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddyStatus = BADDY_HIT;</code></div><div class="line number24 index23 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">verticalSpeed = speed;</code></div><div class="line number25 index24 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">squawk.play();</code></div><div class="line number26 index25 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If sleeping reset x co-ordinate</code></div><div class="line number29 index28 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus == BADDY_OFF)</code></div><div class="line number30 index29 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddy.x = 500;</code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If baddy (owl) is flying, then move it from right to left</code></div><div class="line number33 index32 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus == BADDY_FLYING)</code></div><div class="line number34 index33 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddy.x -=2;</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If baddy (owl) is hit then send him crashing down</code></div><div class="line number37 index36 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus == BADDY_HIT)</code></div><div class="line number38 index37 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number39 index38 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddy.y +=2;</code></div><div class="line number40 index39 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If he's gone beyond the ground then reset</code></div><div class="line number41 index40 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddy.y &gt; 320)</code></div><div class="line number42 index41 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number43 index42 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddyStatus = BADDY_OFF;</code></div><div class="line number44 index43 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddy.x = 500;</code></div><div class="line number45 index44 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddy.y = 125;</code></div><div class="line number46 index45 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number47 index46 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number48 index47 alt1">&nbsp;</div><div class="line number49 index48 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If baddy(owl) has flown past without being hit, then rest the x position, update the status and play a hoot!</code></div><div class="line number50 index49 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddy.x &lt; -20)</code></div><div class="line number51 index50 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number52 index51 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddyStatus = BADDY_OFF;</code></div><div class="line number53 index52 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">owl.play();</code></div><div class="line number54 index53 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddy.x = 500;</code></div><div class="line number55 index54 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number56 index55 alt1">&nbsp;</div><div class="line number57 index56 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If baddy (owl) isn't asleep then draw him</code></div><div class="line number58 index57 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus != BADDY_OFF)</code></div><div class="line number59 index58 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number60 index59 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//rotate flap wings i.e. alternate images</code></div><div class="line number61 index60 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(currentBaddyImage == 0)</code></div><div class="line number62 index61 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">currentBaddy = baddy.image;</code></div><div class="line number63 index62 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number64 index63 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">currentBaddy = baddy.altImg;</code></div><div class="line number65 index64 alt2">&nbsp;</div><div class="line number66 index65 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//If he's not hit just draw as normal</code></div><div class="line number67 index66 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus != BADDY_HIT)</code></div><div class="line number68 index67 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number69 index68 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">showObjectBounds(baddy, baddy.x, baddy.y);</code></div><div class="line number70 index69 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.drawImage(currentBaddy, baddy.x, baddy.y);</code></div><div class="line number71 index70 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number72 index71 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else</code></div><div class="line number73 index72 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number74 index73 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//He's been hit so rotate him as he flies out of control!</code></div><div class="line number75 index74 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.save();</code></div><div class="line number76 index75 alt1">&nbsp;</div><div class="line number77 index76 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Translate to the center of the bear (i.e. the point about which we are going to perform the rotation</code></div><div class="line number78 index77 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.translate(baddy.x + (baddy.image.width/2), baddy.y + (baddy.image.height/2));</code></div><div class="line number79 index78 alt2">&nbsp;</div><div class="line number80 index79 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Adjust the angle according to the horizontal speed</code></div><div class="line number81 index80 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddy.angle += 7;</code></div><div class="line number82 index81 alt1">&nbsp;</div><div class="line number83 index82 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddy.angle &lt; 0) baddy.angle=360;</code></div><div class="line number84 index83 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">else if(baddy.angle&gt;360) baddy.angle=0;</code></div><div class="line number85 index84 alt2">&nbsp;</div><div class="line number86 index85 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">//Perform the rotation based on the current bear angle</code></div><div class="line number87 index86 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.rotate(baddy.angle * Math.PI/180);</code></div><div class="line number88 index87 alt1">&nbsp;</div><div class="line number89 index88 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">showObjectBounds(baddy, - (baddy.image.width/2), - (baddy.image.width/2));</code></div><div class="line number90 index89 alt1">&nbsp;</div><div class="line number91 index90 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.drawImage(currentBaddy, - (baddy.image.width/2), - (baddy.image.width/2));</code></div><div class="line number92 index91 alt1">&nbsp;</div><div class="line number93 index92 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">ctx.restore();</code></div><div class="line number94 index93 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number95 index94 alt2">&nbsp;</div><div class="line number96 index95 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number97 index96 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Note that when HIT the owl is rotated to give a sense of it being out of control and heading for the ground. Also, when HIT, the animal is diverted towards the ground in the opposite direction to its original horizontal speed causing the player to have to make a quick change to the mushroom’s position to cushion the fall. If the animal re-hits the owl as it’s falling, the animal will also start to fall again, causing the player to ensure the mushroom remains below the animal.</p>
<p>Like, the bonus image we want to cycle between 2 images for the owl (alternating his wing positions).</p>
<div><div id="highlighter_9397" class="syntaxhighlighter  plain"><div class="toolbar"><span><a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">01</div><div class="line number2 index1 alt1">02</div><div class="line number3 index2 alt2">03</div><div class="line number4 index3 alt1">04</div><div class="line number5 index4 alt2">05</div><div class="line number6 index5 alt1">06</div><div class="line number7 index6 alt2">07</div><div class="line number8 index7 alt1">08</div><div class="line number9 index8 alt2">09</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">function showBaddy()</code></div><div class="line number2 index1 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus == BADDY_OFF)</code></div><div class="line number5 index4 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number6 index5 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">setTimeout(changeBaddyImage, 100);</code></div><div class="line number7 index6 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">baddyStatus = BADDY_FLYING;</code></div><div class="line number8 index7 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number9 index8 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="plain plain">//if not alseep calls itself to alternate current baddy image</code></div><div class="line number12 index11 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">function changeBaddyImage()</code></div><div class="line number13 index12 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">{</code></div><div class="line number14 index13 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">currentBaddyImage++;</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(currentBaddyImage == 2)</code></div><div class="line number17 index16 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">currentBaddyImage = 0;</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">if(baddyStatus != BADDY_OFF)</code></div><div class="line number20 index19 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">setTimeout(changeBaddyImage, 100);</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="plain spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="plain plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>And that concludes <a href="http://jacebook.co.uk/share/html5">the latest HTML5 version</a> of <a href="http://bouncinganimals.blogspot.com/">bouncing animals</a>. Ok, it’s only the first level, but at least it proves the theory. I’m sure once HTML5 is an established standard, consistently across all browsers, it’ll be the way many games are written. Some may be even better <img src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/icon_smile.gif" alt=":-)" class="wp-smiley"> </p>
				</div>
												<div class="article-meta-keywords">Tags: <a href="http://jacebook.co.uk/blog/tag/bouncing-animals/" rel="tag">bouncing animals</a>, <a href="http://jacebook.co.uk/blog/tag/game/" rel="tag">game</a>, <a href="http://jacebook.co.uk/blog/tag/html5/" rel="tag">html5</a>, <a href="http://jacebook.co.uk/blog/tag/iphone/" rel="tag">iPhone</a></div>
			</div>
			<div class="article-footer"></div>
		</div>
		
			<div id="comments">


			<h3 id="comments-title">3 comments. <a href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#respond">Leave a Reply</a></h3>


			<ol class="commentlist">
					<li class="comment even thread-even depth-1" id="li-comment-102">
		<div id="comment-102">
		<div class="comment-author vcard">
			<img alt="" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/91fddc2ffde157cf30e372b6e96ff180" class="avatar avatar-70 photo" height="70" width="70">			<div class="author-name"><a href="http://www.ymail.com/" rel="external nofollow" class="url">Daniel</a></div>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata">
			December 17, 2010 at 12:41 pm		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>great post, thanks for sharing</p>
</div>

		<div class="reply">
			<a class="comment-reply-link" href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/?replytocom=102#respond" onclick="return addComment.moveForm(&quot;comment-102&quot;, &quot;102&quot;, &quot;respond&quot;, &quot;246&quot;)">Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-370">
		<div id="comment-370">
		<div class="comment-author vcard">
			<img alt="" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/5c14b81d14845d8532acd175991762c0" class="avatar avatar-70 photo" height="70" width="70">			<div class="author-name"><a href="http://www.mahjong1.info/" rel="external nofollow" class="url">Mahjong</a></div>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata">
			June 23, 2011 at 4:08 am		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>An additional issue is really that video gaming has become one of the all-time most significant forms of recreation for people spanning various ages. Kids play video games, plus adults do, too. Your XBox 360 is among the favorite video games systems for individuals that love to have hundreds of games available to them, and also who like to relax and play live with people all over the world. Thank you for sharing your thinking in HTML5 Writing a game: Step 6 (Final) » Jacebook.</p>
</div>

		<div class="reply">
			<a class="comment-reply-link" href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/?replytocom=370#respond" onclick="return addComment.moveForm(&quot;comment-370&quot;, &quot;370&quot;, &quot;respond&quot;, &quot;246&quot;)">Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
	<li class="comment even thread-even depth-1" id="li-comment-410">
		<div id="comment-410">
		<div class="comment-author vcard">
			<img alt="" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/de8be536fdde5a771bf50e5247a7e074" class="avatar avatar-70 photo" height="70" width="70">			<div class="author-name"><a href="http://jocuri-impuscaturi.ro/" rel="external nofollow" class="url">JOCURI CU IMPUSCATURI</a></div>		</div><!-- .comment-author .vcard -->
		
		<div class="comment-meta commentmetadata">
			July 18, 2011 at 2:38 am		</div><!-- .comment-meta .commentmetadata -->

		<div class="comment-body"><p>Hey, Thanks a lot for this wonderful post! I have to bookmark HTML5 Writing a game: Step 6 (Final) » Jacebook. Best wishes.</p>
</div>

		<div class="reply">
			<a class="comment-reply-link" href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/?replytocom=410#respond" onclick="return addComment.moveForm(&quot;comment-410&quot;, &quot;410&quot;, &quot;respond&quot;, &quot;246&quot;)">Reply</a>		</div><!-- .reply -->
	</div><!-- #comment-##  -->

	</li>
			</ol>



								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://jacebook.co.uk/blog/2010/11/05/html5-writing-a-game-step-6-final/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://jacebook.co.uk/wp-comments-post.php" method="post" id="commentform">
																			<p class="comment-notes">Your email is <em>never</em> published nor shared.</p>							<div class="comment-form-author"><input id="author" name="author" type="text" value="" size="30" class="text"><label for="author">Name <span class="required">(Required)</span></label> </div><!-- #form-section-author .form-section -->
<div class="comment-form-email"><input id="email" name="email" type="text" value="" size="30" class="text"><label for="email">Email <span class="required">(Required)</span></label> </div><!-- #form-section-email .form-section -->
<div class="comment-form-url"><input id="url" name="url" type="text" value="" size="30" class="text"><label for="url">Website</label></div><!-- #form-section-url .form-section -->
												<div class="comment-form-comment"><textarea id="comment" name="comment" cols="45" rows="8"></textarea></div><!-- #form-section-comment .form-section -->						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:<code>&lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" class="input-submit">
							<input type="hidden" name="comment_post_ID" value="246" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
						</p>
											</form>
							</div><!-- #respond -->
						
</div><!-- #comments -->


	</div><!-- contents-->
	<div id="sidebar">
		<ul class="sidebar">
<li id="categories-5" class="widget widget_categories"><div class="side-contents"><h2 class="side-title-first">Categories</h2>		<ul>
	<li class="cat-item cat-item-21"><a href="http://jacebook.co.uk/blog/category/diaspora/" title="View all posts filed under Diaspora">Diaspora</a>
</li>
	<li class="cat-item cat-item-6"><a href="http://jacebook.co.uk/blog/category/adobe/flash-builder/" title="View all posts filed under Flash Builder">Flash Builder</a>
</li>
	<li class="cat-item cat-item-7"><a href="http://jacebook.co.uk/blog/category/fun/" title="Not so serious blogs!">Fun</a>
</li>
	<li class="cat-item cat-item-26"><a href="http://jacebook.co.uk/blog/category/html5/" title="View all posts filed under html5">html5</a>
</li>
	<li class="cat-item cat-item-11"><a href="http://jacebook.co.uk/blog/category/java-script/" title="All thing java script">Java Script</a>
</li>
	<li class="cat-item cat-item-12"><a href="http://jacebook.co.uk/blog/category/java-script/jquery/" title="View all posts filed under jQuery">jQuery</a>
</li>
		</ul>
</div></li><li id="linkcat-2" class="widget widget_links"><div class="side-contents"><h2 class="side-title">Blogroll</h2>
	<ul class="xoxo blogroll">
<li><a href="http://jqueryfordesigners.com/" title="A great site for designers interesting in using jQuery to spice up their vision">jQuery For Designers</a></li>
<li><a href="http://processingjs.org/" title="Promising animation JS wrapper to the HTML5 canvas element">Processing JS</a></li>

	</ul>
</div></li>
<li id="tag_cloud-3" class="widget widget_tag_cloud"><div class="side-contents"><h2 class="side-title">Tags</h2><div class="tagcloud"><a href="http://jacebook.co.uk/blog/tag/attribute/" class="tag-link-19" title="1 topic" style="font-size: 8pt;">Attribute</a>
<a href="http://jacebook.co.uk/blog/tag/bouncing-animals/" class="tag-link-28" title="6 topics" style="font-size: 22pt;">bouncing animals</a>
<a href="http://jacebook.co.uk/blog/tag/cash-point/" class="tag-link-14" title="1 topic" style="font-size: 8pt;">cash point</a>
<a href="http://jacebook.co.uk/blog/tag/diaspora/" class="tag-link-21" title="1 topic" style="font-size: 8pt;">Diaspora</a>
<a href="http://jacebook.co.uk/blog/tag/distributed/" class="tag-link-23" title="1 topic" style="font-size: 8pt;">Distributed</a>
<a href="http://jacebook.co.uk/blog/tag/facebook/" class="tag-link-22" title="1 topic" style="font-size: 8pt;">Facebook</a>
<a href="http://jacebook.co.uk/blog/tag/flash-builder-2/" class="tag-link-8" title="1 topic" style="font-size: 8pt;">flash builder</a>
<a href="http://jacebook.co.uk/blog/tag/flash-catalyst/" class="tag-link-9" title="1 topic" style="font-size: 8pt;">flash catalyst</a>
<a href="http://jacebook.co.uk/blog/tag/game/" class="tag-link-30" title="6 topics" style="font-size: 22pt;">game</a>
<a href="http://jacebook.co.uk/blog/tag/html5/" class="tag-link-26" title="6 topics" style="font-size: 22pt;">html5</a>
<a href="http://jacebook.co.uk/blog/tag/iphone/" class="tag-link-29" title="6 topics" style="font-size: 22pt;">iPhone</a>
<a href="http://jacebook.co.uk/blog/tag/jquery/" class="tag-link-12" title="1 topic" style="font-size: 8pt;">jQuery</a>
<a href="http://jacebook.co.uk/blog/tag/not/" class="tag-link-20" title="1 topic" style="font-size: 8pt;">Not</a>
<a href="http://jacebook.co.uk/blog/tag/selectors/" class="tag-link-18" title="1 topic" style="font-size: 8pt;">Selectors</a>
<a href="http://jacebook.co.uk/blog/tag/short/" class="tag-link-13" title="1 topic" style="font-size: 8pt;">short</a>
<a href="http://jacebook.co.uk/blog/tag/social-network/" class="tag-link-24" title="1 topic" style="font-size: 8pt;">Social Network</a>
<a href="http://jacebook.co.uk/blog/tag/tipping-point/" class="tag-link-25" title="1 topic" style="font-size: 8pt;">Tipping Point</a>
<a href="http://jacebook.co.uk/blog/tag/transitions/" class="tag-link-10" title="1 topic" style="font-size: 8pt;">transitions</a>
<a href="http://jacebook.co.uk/blog/tag/twitter/" class="tag-link-17" title="1 topic" style="font-size: 8pt;">twitter</a>
<a href="http://jacebook.co.uk/blog/tag/verified/" class="tag-link-16" title="1 topic" style="font-size: 8pt;">verified</a>
<a href="http://jacebook.co.uk/blog/tag/whitchurch/" class="tag-link-15" title="1 topic" style="font-size: 8pt;">Whitchurch</a></div>
</div></li><li id="twitter-1" class="widget widget_twitter"><div class="side-contents"><h2 class="side-title"><a href="http://twitter.com/jason_croucher" class="twitter_title_link">Tweets</a></h2><ul class="twitter"><li class="twitter-item"> <a href="http://twitter.com/wossy" class="twitter-user">@wossy</a> clarkson, brand and evans preferably on the same night! But doubt you'll manage it... Good luck with the show though  <span class="twitter-timestamp"><abbr title="2011/09/04 19:41:00">2011/09/04</abbr></span></li><li class="twitter-item"> Apple TV round the corner? <a href="http://t.co/FF1a6Sq" class="twitter-link">http://t.co/FF1a6Sq</a>  <span class="twitter-timestamp"><abbr title="2011/08/29 06:58:18">2011/08/29</abbr></span></li><li class="twitter-item"> Something web devs have know for sometime ;-) <a href="http://is.gd/nQ4NCW" class="twitter-link">http://is.gd/nQ4NCW</a>  <span class="twitter-timestamp"><abbr title="2011/07/31 18:03:15">2011/07/31</abbr></span></li><li class="twitter-item"> <a href="http://twitter.com/shabba1973" class="twitter-user">@shabba1973</a> good news - you'll rust with that much iron in ya. Hope you're feeling better!  <span class="twitter-timestamp"><abbr title="2011/07/25 18:47:12">2011/07/25</abbr></span></li><li class="twitter-item"> <a href="http://twitter.com/p4as" class="twitter-user">@p4as</a> Shame - hope to see you on g+ dude  <span class="twitter-timestamp"><abbr title="2011/07/21 20:05:32">2011/07/21</abbr></span></li></ul></div></li>		</ul>
		<div class="end-sidebar"></div>
	</div>	<div id="footer">
		<div>© Jacebook 2011 - Powered by WordPress - Theme RedBel by Belouga.</div>
		<div><a href="http://jacebook.co.uk/?feed=rss2">Entries (RSS)</a> and <a href="http://jacebook.co.uk/?feed=comments-rss2">Comments (RSS)</a>.</div>
	</div>
</div>
<script type="text/javascript"> 
/* <![CDATA[ */
$("#header .menu li").hover(function(){$(this).find('ul:first').css({visibility: "visible",display: "none"}).slideToggle(268);},function(){ $(this).find('ul:first').slideToggle(268);});
$('#header li:not(#header .menu li li):not(.current_page_item):not(.current_page_parent):not(.current_page_ancestor)')
	.css( {backgroundPosition: "0 38px"} )
	.mouseover(function(){$(this).stop().animate({backgroundPosition:"(0 0)"}, 200);})
	.mouseout(function(){$(this).stop().animate({backgroundPosition:"(0 38px)"}, 200);})
$('.top-link')
	.css( {backgroundPosition: "right top"} )
	.mouseover(function(){$(this).stop().animate({backgroundPosition:"(right -3px)"}, 200);})
	.mouseout(function(){$(this).stop().animate({backgroundPosition:"(right top)"}, 200);})
if($.browser.safari || $.browser.Chrome){ bodyelem = $("body") } else{ bodyelem = $("html") }
$('a').click(function(){if($(this).attr("href").charAt(0) == "#"){bodyelem.animate({scrollTop: $($(this).attr("href")).offset().top+'px'}, 500);return false;}else{return true;}});
$('.search-label-sliding').css({ left: "15px" })
$('.search-label-sliding').animate({ opacity: "0.4" }).click(function() {var thisFor = $(this).attr('for');	$('.'+thisFor).focus();});
$('.search-sliding').focus(function() {$('.search-label-sliding').animate({ left: "160px" }, "fast");
	if($(this).val() == "Search") $(this).val() == "";
}).blur(function() {if($(this).val() == "") {$(this).val() == "Search";$('.search-label-sliding').animate({ left: "15px" }, "fast");}});
$('input:submit').addClass('input-submit');
$('input:button').addClass('input-submit');
$('input:reset').addClass('input-submit');
/* ]]> */
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-18293830-1");
pageTracker._trackPageview();
} catch(err) {}</script>
<script type="text/javascript" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/shCore.js"></script>
<script type="text/javascript" src="./HTML5 Writing a game  Step 6 (Final) » Jacebook_files/shBrushPlain.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://jacebook.co.uk/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.83c";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://jacebook.co.uk/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.83c";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['wrap-lines'] = false;
	SyntaxHighlighter.all();
</script>

</body></html>